package composed:component;

import io: interface {
  resource handle {
    get: static func() -> handle;
    write: func(x: string);
  }
};
import %record: interface {
  %record: func(method: string, args: list<string>, ret: string);
};

let imports = new virt:imports { io, %record };
let main = new root:component { io: imports.io };
let final = new virt:exports { main: main.main, io: imports.io, host-io: io, %record };
export final...;
export imports.io;
