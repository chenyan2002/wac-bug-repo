package composed:component;

import host-io: interface {
  resource handle {
    get: static func() -> handle;
    write: func(x: string);
  }
};
import %record: interface {
  %record: func(method: string, args: list<string>, ret: string);
};

let imports = new virt:imports { io: host-io, %record };
let wrapped-main = new root:component { io: imports.io };
let final = new virt:exports { wrapped-main: wrapped-main.main, io: host-io, wrapped-io: imports.io, %record };
export final.main;
